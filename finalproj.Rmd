--- 
title: "NYC Crime"
author: "Group 32: Abhiram Gaddam, Faizan Dogar, Devan Samant"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
---
--- 
title: "NYC Crime"
author: "Group 32: Abhiram Gaddam, Faizan Dogar, Devan Samant"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
---
```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```

# Introduction


<!--chapter:end:index.Rmd-->

---
output:
  html_document: default
  pdf_document: default
---
```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Proposal

## Research topic
--short description of topic (1/2 page)
--please add more to this. Feel free to edit tone, content, etc.

Have you ever gotten out of a class at 9:30pm and wondered if it was safe to walk home? Do you wonder if you should cut through a park or take the subway? Is it possible to quantify "safe"? Does your risk profile change after 10:30pm or if you are a certain gender? 

The motivation for this project spawned from these practical questions we had in relation to navigating NYC on and off campus. Many of our classes get out at night and we live nearby but wonder if there is a walking path home that exhibits the least risk. We want to answer these types of questions using data and visualizations.

The focus of this project is to analyze NYPD crime and complaint data around Columbia during the school year. However, the data (described more in the next section) lends itself to investigate broader questions of equity by demographics and neighborhood across NYC. We also have flexibility in the time range to investigate and may look at longer trends. 


## Data availability
--sources, how collected, who, format, frequency of updates, etc. (1/2 page)

NYC Open Data (NYC Office of Technology and Innovation (OTI)) in conjunction with New York City Police Department (NYPD) makes public safety data available for anyone online. In particular they publish Complaint Data which contains felony, misdemeanor, and violation crimes reported to the NYPD from 2006 till present.

Year-to-Date (YTD): https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Current-Year-To-Date-/5uac-w243

Historic: https://data.cityofnewyork.us/Public-Safety/NYPD-Complaint-Data-Historic/qgea-i56i

### *Content*
"Complaint data" is a mixed set of records because it contains crimes (ex. robbery, rape, assault), parking violations, complaints of harassment, reports of abandoned animals, and more. We will need to investigate, clean, and filter the data to answer our research questions. 

As the links above indicate, there are two sets of data containing distinct records. A year-to-date dataset from 1/1/2022 to 9/30/2022 and a historic dataset containing records from 1/1/2006 to 12/31/2021. We plan to start with the year-to-date data and potentially incorporate historic records as needed. 

The dataset contains mostly categorical variables and dates with each row indicating a crime/violation.
As of the last update on October 19, 2022, the YTD Dataset contains 397K rows and 36 columns. 

Column description:
Column Name	Description	Type
CMPLNT_NUM	Randomly generated persistent ID for each complaint	Plain Text
ADDR_PCT_CD	The precinct in which the incident occurred	Number
BORO_NM	The name of the borough in which the incident occurred	Plain Text
CMPLNT_FR_DT	Exact date of occurrence for the reported event (or starting date of occurrence, if CMPLNT_TO_DT exists)	Date & Time
CMPLNT_FR_TM	Exact time of occurrence for the reported event (or starting time of occurrence, if CMPLNT_TO_TM exists)	Plain Text
CMPLNT_TO_DT	Ending date of occurrence for the reported event, if exact time of occurrence is unknown	Date & Time
CMPLNT_TO_TM	Ending time of occurrence for the reported event, if exact time of occurrence is unknown	Plain Text
CRM_ATPT_CPTD_CD	Indicator of whether crime was successfully completed or attempted, but failed or was interrupted prematurely	Plain Text
HADEVELOPT	Name of NYCHA housing development of occurrence, if applicable	Plain Text
HOUSING_PSA	Development Level Code	Number
JURISDICTION_CODE	Jurisdiction responsible for incident. Either internal, like Police(0), Transit(1), and Housing(2); or external(3), like Correction, Port Authority, etc.	Number
JURIS_DESC	Description of the jurisdiction code	Plain Text
KY_CD	Three digit offense classification code	Number
LAW_CAT_CD	Level of offense: felony, misdemeanor, violation	Plain Text
LOC_OF_OCCUR_DESC	Specific location of occurrence in or around the premises; inside, opposite of, front of, rear of	Plain Text
OFNS_DESC	Description of offense corresponding with key code	Plain Text
PARKS_NM	Name of NYC park, playground or greenspace of occurrence, if applicable (state parks are not included)	Plain Text
PATROL_BORO	The name of the patrol borough in which the incident occurred	Plain Text
PD_CD	Three digit internal classification code (more granular than Key Code)	Number
PD_DESC	Description of internal classification corresponding with PD code (more granular than Offense Description)	Plain Text
PREM_TYP_DESC	Specific description of premises; grocery store, residence, street, etc.	Plain Text
RPT_DT	Date event was reported to police	Date & Time
STATION_NAME	Transit station name	Plain Text
SUSP_AGE_GROUP	Suspect’s Age Group	Plain Text
SUSP_RACE	Suspect’s Race Description	Plain Text
SUSP_SEX	Suspect’s Sex Description	Plain Text
TRANSIT_DISTRICT	Transit district in which the offense occurred.	Number
VIC_AGE_GROUP	Victim’s Age Group	Plain Text
VIC_RACE	Victim’s Race Description	Plain Text
VIC_SEX	Victim’s Sex Description	Plain Text
X_COORD_CD	X-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104)	Number
Y_COORD_CD	Y-coordinate for New York State Plane Coordinate System, Long Island Zone, NAD 83, units feet (FIPS 3104)	Number
Latitude	Midblock Latitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326)	Number
Longitude	Midblock Longitude coordinate for Global Coordinate System, WGS 1984, decimal degrees (EPSG 4326)	Number


### *Who Collects The Data*
TBD

### *Format and Importation*
OTI provides the data in 4 formats: 1) online table, 2) visualization, 3) CSV, and 4) API. The first two have limited functionality and customization so we will not use those versions. The API requires an account and authentication tokens. Given that the CSV for YTD data is not too large (140MB), it seems the easiest to work with. CSV is a format we are most familiar with and one that R handles well. 

--TBD is there a difference between CSV and API?

### *Updates*
This dataset was first made public on 11/1/2018. It is updated quarterly. It apprears that the metadata is updated more frequently but it is not clear what changes are incorporated as there could be several updates made in Oct 2022 but the data will only contain records up to the prior month end of Sept 2022. 

### *Expected Challenges*
The data does not have many continuous variables. We will have to derive one based on counts and may need to supplement with other data to obtain others (ex. average cost/insurance per type of crime). 
There are longitude and latitude fields which we would like to utilize but have not identified an R package to process and visualize.
--More?

### *Data Not Used*
--TBD. N/A or are we not using something else available

### *Other Comments*
--TBD - open



<!--chapter:end:proposal.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Data 

## Sources

## Cleaning / transformation

## Missing value analysis


<!--chapter:end:data.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Results

<!--chapter:end:results.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Interactive component



<!--chapter:end:interactive.Rmd-->

```{r include=FALSE, cache=FALSE}
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  warning = FALSE
)
```
# Conclusion


<!--chapter:end:conclusion.Rmd-->

