<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Results | NYC Crime</title>
  <meta name="description" content="Chapter 7 Results | NYC Crime" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Results | NYC Crime" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Results | NYC Crime" />
  
  
  

<meta name="author" content="Group 32: Abhiram Gaddam, Faizan Dogar, Devan Samant" />


<meta name="date" content="2022-12-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data.html"/>
<link rel="next" href="location-analysis.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">NYC Crime</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="outlineworknotes.html"><a href="outlineworknotes.html"><i class="fa fa-check"></i><b>2</b> Outline/Work/Notes</a></li>
<li class="chapter" data-level="3" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>3</b> Tasks</a></li>
<li class="chapter" data-level="4" data-path="next-steps-note-2022-11-13.html"><a href="next-steps-note-2022-11-13.html"><i class="fa fa-check"></i><b>4</b> Next Steps Note 2022-11-13</a></li>
<li class="chapter" data-level="5" data-path="proposal.html"><a href="proposal.html"><i class="fa fa-check"></i><b>5</b> Proposal</a>
<ul>
<li class="chapter" data-level="5.1" data-path="proposal.html"><a href="proposal.html#research-topic"><i class="fa fa-check"></i><b>5.1</b> Research topic</a></li>
<li class="chapter" data-level="5.2" data-path="proposal.html"><a href="proposal.html#data-availability"><i class="fa fa-check"></i><b>5.2</b> Data availability</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="proposal.html"><a href="proposal.html#content"><i class="fa fa-check"></i><b>5.2.1</b> <em>Content</em></a></li>
<li class="chapter" data-level="5.2.2" data-path="proposal.html"><a href="proposal.html#who-collects-the-data"><i class="fa fa-check"></i><b>5.2.2</b> <em>Who Collects The Data</em></a></li>
<li class="chapter" data-level="5.2.3" data-path="proposal.html"><a href="proposal.html#format-and-importation"><i class="fa fa-check"></i><b>5.2.3</b> <em>Format and Importation</em></a></li>
<li class="chapter" data-level="5.2.4" data-path="proposal.html"><a href="proposal.html#updates"><i class="fa fa-check"></i><b>5.2.4</b> <em>Updates</em></a></li>
<li class="chapter" data-level="5.2.5" data-path="proposal.html"><a href="proposal.html#expected-challenges"><i class="fa fa-check"></i><b>5.2.5</b> <em>Expected Challenges</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data.html"><a href="data.html"><i class="fa fa-check"></i><b>6</b> Data</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data.html"><a href="data.html#sources"><i class="fa fa-check"></i><b>6.1</b> Sources</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data.html"><a href="data.html#data-loading"><i class="fa fa-check"></i><b>6.1.1</b> Data Loading</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data.html"><a href="data.html#cleaning-transformation"><i class="fa fa-check"></i><b>6.2</b> Cleaning / transformation</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data.html"><a href="data.html#creating-a-new-column-to-bucket-crimes"><i class="fa fa-check"></i><b>6.2.1</b> Creating a new column to bucket crimes</a></li>
<li class="chapter" data-level="6.2.2" data-path="data.html"><a href="data.html#datetime"><i class="fa fa-check"></i><b>6.2.2</b> Date/Time</a></li>
<li class="chapter" data-level="6.2.3" data-path="data.html"><a href="data.html#geolocation-fields"><i class="fa fa-check"></i><b>6.2.3</b> GeoLocation Fields</a></li>
<li class="chapter" data-level="6.2.4" data-path="data.html"><a href="data.html#other-derivations"><i class="fa fa-check"></i><b>6.2.4</b> Other Derivations</a></li>
<li class="chapter" data-level="6.2.5" data-path="data.html"><a href="data.html#filter-table-for-relevance"><i class="fa fa-check"></i><b>6.2.5</b> Filter Table for Relevance</a></li>
<li class="chapter" data-level="6.2.6" data-path="data.html"><a href="data.html#select-and-rename-columns-in-a-usuable-table"><i class="fa fa-check"></i><b>6.2.6</b> Select and Rename Columns in a Usuable Table</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data.html"><a href="data.html#missing-value-analysis"><i class="fa fa-check"></i><b>6.3</b> Missing value analysis</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="results.html"><a href="results.html"><i class="fa fa-check"></i><b>7</b> Results</a>
<ul>
<li class="chapter" data-level="7.1" data-path="results.html"><a href="results.html#planning-notes"><i class="fa fa-check"></i><b>7.1</b> Planning Notes</a></li>
<li class="chapter" data-level="7.2" data-path="results.html"><a href="results.html#crime-category-and-demographic-analysis"><i class="fa fa-check"></i><b>7.2</b> Crime category and Demographic analysis</a></li>
<li class="chapter" data-level="7.3" data-path="results.html"><a href="results.html#time-series"><i class="fa fa-check"></i><b>7.3</b> Time Series</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="location-analysis.html"><a href="location-analysis.html"><i class="fa fa-check"></i><b>8</b> Location Analysis</a></li>
<li class="chapter" data-level="9" data-path="interactive-component.html"><a href="interactive-component.html"><i class="fa fa-check"></i><b>9</b> Interactive component</a>
<ul>
<li class="chapter" data-level="9.1" data-path="interactive-component.html"><a href="interactive-component.html#test"><i class="fa fa-check"></i><b>9.1</b> Test</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="conclusion.html"><a href="conclusion.html"><i class="fa fa-check"></i><b>10</b> Conclusion</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">NYC Crime</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="results" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">Chapter 7</span> Results<a href="results.html#results" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="results.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb21-2"><a href="results.html#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="co">#library(vcdExtra)</span></span>
<span id="cb21-3"><a href="results.html#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb21-4"><a href="results.html#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb21-5"><a href="results.html#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb21-6"><a href="results.html#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Lock5withR)</span>
<span id="cb21-7"><a href="results.html#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span></code></pre></div>
<div id="planning-notes" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Planning Notes<a href="results.html#planning-notes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>–To delete</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="results.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co">#What Graphs Do We Want?</span></span>
<span id="cb22-2"><a href="results.html#cb22-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-3"><a href="results.html#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Data Prep Graphs</span></span>
<span id="cb22-4"><a href="results.html#cb22-4" aria-hidden="true" tabindex="-1"></a><span class="co">#1) Missing data patterns by row (using redav library or mi library) --heatmap</span></span>
<span id="cb22-5"><a href="results.html#cb22-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-6"><a href="results.html#cb22-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-7"><a href="results.html#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Demographic Related Chart</span></span>
<span id="cb22-8"><a href="results.html#cb22-8" aria-hidden="true" tabindex="-1"></a><span class="co">#1) Bar Chart - CRIME_CAT by VIC Gender and/or SUSPECT Gender</span></span>
<span id="cb22-9"><a href="results.html#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">#2) Mosaic Plot - </span><span class="al">TBD</span><span class="co"> (CRIME CAT, VIC Gender, and Premise, +)</span></span>
<span id="cb22-10"><a href="results.html#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co">#3) Count by Premise (or use as a cut)</span></span>
<span id="cb22-11"><a href="results.html#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">#--see ideas below</span></span>
<span id="cb22-12"><a href="results.html#cb22-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-13"><a href="results.html#cb22-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Time Series Charts</span></span>
<span id="cb22-14"><a href="results.html#cb22-14" aria-hidden="true" tabindex="-1"></a><span class="co">#1) Line Chart - Overall 2022 Trend by Count</span></span>
<span id="cb22-15"><a href="results.html#cb22-15" aria-hidden="true" tabindex="-1"></a><span class="co">#2) Bar Chart - CRIME CAT by Day of Week</span></span>
<span id="cb22-16"><a href="results.html#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="co">#3) Density Plot - Count by Time of Day (maybe with facets)</span></span>
<span id="cb22-17"><a href="results.html#cb22-17" aria-hidden="true" tabindex="-1"></a><span class="co">#4) (</span><span class="al">TBD</span><span class="co"> more CRIME CAT by Time or Premise by Time of Day/Park)</span></span>
<span id="cb22-18"><a href="results.html#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co">#5) Look at box plot by time of day?</span></span>
<span id="cb22-19"><a href="results.html#cb22-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-20"><a href="results.html#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="co">#Maps &amp; Distance Info</span></span>
<span id="cb22-21"><a href="results.html#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="co">#1) Counts By Borough (bar chart) (consider faceting by another dimension that looks good)</span></span>
<span id="cb22-22"><a href="results.html#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="co">#2) Map of count in Columbia Area</span></span>
<span id="cb22-23"><a href="results.html#cb22-23" aria-hidden="true" tabindex="-1"></a><span class="co">#3) Line Graph of Density At Diff Points (x is distance from CU and y is total counts)</span></span>
<span id="cb22-24"><a href="results.html#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="co">#4) Heat Map/Choropleth - Count by Precinct Code (may require addl data? --look into if feasible)</span></span>
<span id="cb22-25"><a href="results.html#cb22-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-26"><a href="results.html#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="co">#Other Potential</span></span>
<span id="cb22-27"><a href="results.html#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="co">#x) Parallel Coordinates Plot - not enough continuous vars</span></span>
<span id="cb22-28"><a href="results.html#cb22-28" aria-hidden="true" tabindex="-1"></a><span class="co">#x) Stacked Bar Chart?</span></span>
<span id="cb22-29"><a href="results.html#cb22-29" aria-hidden="true" tabindex="-1"></a><span class="co">#x) Scatter Plot (of Distance from CU vs Time of Day?)</span></span>
<span id="cb22-30"><a href="results.html#cb22-30" aria-hidden="true" tabindex="-1"></a><span class="co">#x) Cleveland Dot Plot - </span><span class="al">TBD</span></span></code></pre></div>
</div>
<div id="crime-category-and-demographic-analysis" class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> Crime category and Demographic analysis<a href="results.html#crime-category-and-demographic-analysis" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="results.html#cb23-1" aria-hidden="true" tabindex="-1"></a>agg_tbl <span class="ot">&lt;-</span> df_key_fields<span class="sc">%&gt;%</span> <span class="fu">group_by</span>(CRIME_CAT) <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="results.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_count=</span><span class="fu">n</span>(),</span>
<span id="cb23-3"><a href="results.html#cb23-3" aria-hidden="true" tabindex="-1"></a>            <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span>)</span>
<span id="cb23-4"><a href="results.html#cb23-4" aria-hidden="true" tabindex="-1"></a>df_counts <span class="ot">&lt;-</span> agg_tbl <span class="sc">%&gt;%</span> <span class="fu">as.data.frame</span>()</span>
<span id="cb23-5"><a href="results.html#cb23-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-6"><a href="results.html#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_counts) <span class="sc">+</span> <span class="fu">geom_bar</span>(<span class="fu">aes</span>(<span class="at">y=</span>CRIME_CAT, <span class="at">x=</span>total_count), <span class="at">stat=</span><span class="st">&quot;identity&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>)<span class="sc">+</span></span>
<span id="cb23-7"><a href="results.html#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Number of crimes per category &quot;</span>) <span class="sc">+</span></span>
<span id="cb23-8"><a href="results.html#cb23-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb23-9"><a href="results.html#cb23-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Category&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
<p>We start our analysis of crime types by observing that theft or burglary related crimes are the most common by far (more than 2x the next highest category). This category is followed by sex crimes, violent crimes, and fraud/gambling related crimes all of which are relatively close in number. The lowest crime category by far is drug and alcohol related crimes.</p>
<p>We can investigate the data to see the top 10 kinds of crimes before we bucket them into categories.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="results.html#cb24-1" aria-hidden="true" tabindex="-1"></a>df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb24-2"><a href="results.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC) <span class="sc">%&gt;%</span></span>
<span id="cb24-3"><a href="results.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb24-4"><a href="results.html#cb24-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb24-5"><a href="results.html#cb24-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb24-6"><a href="results.html#cb24-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y=</span><span class="fu">fct_reorder</span>(OFNS_DESC,freq,<span class="at">.desc =</span> <span class="cn">FALSE</span>),<span class="at">x=</span>freq)) <span class="sc">+</span></span>
<span id="cb24-7"><a href="results.html#cb24-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-8"><a href="results.html#cb24-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Top 10 Most Common Types of Crime&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-9"><a href="results.html#cb24-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Counts&quot;</span>) <span class="sc">+</span></span>
<span id="cb24-10"><a href="results.html#cb24-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Type of Crime&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-10-1.png" width="672" />
—Maybe we make this chart a clevland dot plot with all original crimes categories and colored by crime_cat? Maybe facet, idk.</p>
<p>–COLOR NOT WORKING</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="results.html#cb25-1" aria-hidden="true" tabindex="-1"></a>df_key_fields<span class="sc">$</span>FCT_CRIME_CAT <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(df_key_fields<span class="sc">$</span>CRIME_CAT)</span>
<span id="cb25-2"><a href="results.html#cb25-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-3"><a href="results.html#cb25-3" aria-hidden="true" tabindex="-1"></a>df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb25-4"><a href="results.html#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(OFNS_DESC) <span class="sc">%&gt;%</span></span>
<span id="cb25-5"><a href="results.html#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb25-6"><a href="results.html#cb25-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb25-7"><a href="results.html#cb25-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb25-8"><a href="results.html#cb25-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb25-9"><a href="results.html#cb25-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> freq, <span class="at">y =</span> <span class="fu">fct_reorder</span>(OFNS_DESC, freq))) <span class="sc">+</span></span>
<span id="cb25-10"><a href="results.html#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">yend =</span> OFNS_DESC), <span class="at">xend =</span> <span class="dv">0</span>, <span class="at">colour =</span> <span class="st">&quot;grey50&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-11"><a href="results.html#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">color =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">size =</span> <span class="dv">3</span>, <span class="fu">aes</span>(<span class="at">colour =</span> FCT_CRIME_CAT)) <span class="sc">+</span></span>
<span id="cb25-12"><a href="results.html#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Top 10 Most Common Types of Crime&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-13"><a href="results.html#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Counts&quot;</span>) <span class="sc">+</span></span>
<span id="cb25-14"><a href="results.html#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Type of Crime&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<p>Here, we can see the crime incident that has happened the most frequently is “Petit Larceny”, a form of larceny in which the value of the property taken is generally less than $50. Further, five of the top 10 crimes are theft or burglary related, which explains why the most common crime category reported is theft.</p>
<p>We can start our demographic analysis by digging further into the race, age, and gender of both suspects and victims.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="results.html#cb26-1" aria-hidden="true" tabindex="-1"></a>df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="results.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SUSP_RACE) <span class="sc">%&gt;%</span></span>
<span id="cb26-3"><a href="results.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb26-4"><a href="results.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb26-5"><a href="results.html#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>) <span class="sc">%&gt;%</span></span>
<span id="cb26-6"><a href="results.html#cb26-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">fct_reorder</span>(SUSP_RACE,freq,<span class="at">.desc =</span> <span class="cn">TRUE</span>),<span class="at">y=</span>freq)) <span class="sc">+</span></span>
<span id="cb26-7"><a href="results.html#cb26-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb26-8"><a href="results.html#cb26-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge=</span><span class="dv">3</span>))<span class="sc">+</span></span>
<span id="cb26-9"><a href="results.html#cb26-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Suspect Race vs Total Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb26-10"><a href="results.html#cb26-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Race&quot;</span>) <span class="sc">+</span></span>
<span id="cb26-11"><a href="results.html#cb26-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-12-1.png" width="672" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="results.html#cb27-1" aria-hidden="true" tabindex="-1"></a>df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb27-2"><a href="results.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(VIC_RACE) <span class="sc">%&gt;%</span></span>
<span id="cb27-3"><a href="results.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb27-4"><a href="results.html#cb27-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb27-5"><a href="results.html#cb27-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>) <span class="sc">%&gt;%</span></span>
<span id="cb27-6"><a href="results.html#cb27-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">fct_reorder</span>(VIC_RACE,freq,<span class="at">.desc =</span> <span class="cn">TRUE</span>),<span class="at">y=</span>freq)) <span class="sc">+</span></span>
<span id="cb27-7"><a href="results.html#cb27-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-8"><a href="results.html#cb27-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">guide =</span> <span class="fu">guide_axis</span>(<span class="at">n.dodge=</span><span class="dv">3</span>))<span class="sc">+</span></span>
<span id="cb27-9"><a href="results.html#cb27-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Victim Race vs Total Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-10"><a href="results.html#cb27-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Race&quot;</span>) <span class="sc">+</span></span>
<span id="cb27-11"><a href="results.html#cb27-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-13-1.png" width="672" />
While there is a lot of null and unknown data, presumably for the sake of anonymity, we notice that there are trends between the race of the suspect and victim. Lets see if we observe something similar for the sex of a victim and suspect</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="results.html#cb28-1" aria-hidden="true" tabindex="-1"></a>df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb28-2"><a href="results.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(SUSP_SEX) <span class="sc">%&gt;%</span></span>
<span id="cb28-3"><a href="results.html#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb28-4"><a href="results.html#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb28-5"><a href="results.html#cb28-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#slice(1:6) %&gt;%</span></span>
<span id="cb28-6"><a href="results.html#cb28-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">fct_reorder</span>(SUSP_SEX,freq,<span class="at">.desc =</span> <span class="cn">TRUE</span>),<span class="at">y=</span>freq)) <span class="sc">+</span></span>
<span id="cb28-7"><a href="results.html#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-8"><a href="results.html#cb28-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_x_discrete(guide = guide_axis(n.dodge=3))+</span></span>
<span id="cb28-9"><a href="results.html#cb28-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Suspect Sex vs Total Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-10"><a href="results.html#cb28-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sex&quot;</span>) <span class="sc">+</span></span>
<span id="cb28-11"><a href="results.html#cb28-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-14-1.png" width="672" /></p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="results.html#cb29-1" aria-hidden="true" tabindex="-1"></a>df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="results.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(VIC_SEX) <span class="sc">%&gt;%</span></span>
<span id="cb29-3"><a href="results.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">freq =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb29-4"><a href="results.html#cb29-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(freq)) <span class="sc">%&gt;%</span></span>
<span id="cb29-5"><a href="results.html#cb29-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#slice(1:6) %&gt;%</span></span>
<span id="cb29-6"><a href="results.html#cb29-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">fct_reorder</span>(VIC_SEX,freq,<span class="at">.desc =</span> <span class="cn">TRUE</span>),<span class="at">y=</span>freq)) <span class="sc">+</span></span>
<span id="cb29-7"><a href="results.html#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>,<span class="at">fill =</span> <span class="st">&quot;cornflowerblue&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-8"><a href="results.html#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">#scale_x_discrete(guide = guide_axis(n.dodge=3))+</span></span>
<span id="cb29-9"><a href="results.html#cb29-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Victim Sex vs Total Count&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-10"><a href="results.html#cb29-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Sex&quot;</span>) <span class="sc">+</span></span>
<span id="cb29-11"><a href="results.html#cb29-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;Count&quot;</span>)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-14-2.png" width="672" />
Clearly most of the crimes committed are by men, and most of the victims are female.</p>
<p>–ATTEMPT AT MOSAIC PLOT</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="results.html#cb30-1" aria-hidden="true" tabindex="-1"></a>counts2 <span class="ot">&lt;-</span> df_key_fields <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="results.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(VIC_RACE, SUSP_RACE) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="results.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Freq =</span> <span class="fu">n</span>())</span>
<span id="cb30-4"><a href="results.html#cb30-4" aria-hidden="true" tabindex="-1"></a>vcd<span class="sc">::</span><span class="fu">mosaic</span>(VIC_RACE <span class="sc">~</span> SUSP_RACE, counts2, <span class="at">direction =</span> <span class="fu">c</span>(<span class="st">&quot;v&quot;</span>, <span class="st">&quot;h&quot;</span>),)</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
</div>
<div id="time-series" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Time Series<a href="results.html#time-series" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>To begin the analysis on time, first we would like to justify why we filtered the data for only crimes that took place in 2022.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="results.html#cb31-1" aria-hidden="true" tabindex="-1"></a>ts_year_all <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="results.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#filter(year(Incident_Date) &gt;= 2022) %&gt;%</span></span>
<span id="cb31-3"><a href="results.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(<span class="fu">year</span>(Incident_Date))  <span class="sc">%&gt;%</span></span>
<span id="cb31-4"><a href="results.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">Complaint_Count =</span> <span class="fu">n</span>() ) <span class="sc">%&gt;%</span> <span class="fu">rename</span>( <span class="at">Incident_Year =</span> <span class="st">`</span><span class="at">year(Incident_Date)</span><span class="st">`</span>)</span>
<span id="cb31-5"><a href="results.html#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="results.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(ts_year_all, <span class="fu">aes</span>(<span class="at">x=</span>Incident_Year, <span class="at">y=</span>Complaint_Count )) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb31-7"><a href="results.html#cb31-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">label=</span>comma) <span class="sc">+</span></span>
<span id="cb31-8"><a href="results.html#cb31-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits=</span> <span class="fu">c</span>(<span class="dv">2000</span>,<span class="dv">2023</span>) ) <span class="sc">+</span></span>
<span id="cb31-9"><a href="results.html#cb31-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb31-10"><a href="results.html#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">&quot;Date of Incident (Reported in 2022)&quot;</span>,</span>
<span id="cb31-11"><a href="results.html#cb31-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">&quot;Incident Year (raw data)&quot;</span>,</span>
<span id="cb31-12"><a href="results.html#cb31-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">&quot;Number of Reports&quot;</span>,</span>
<span id="cb31-13"><a href="results.html#cb31-13" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-16-1.png" width="672" />
From this we see that there is a large drop off in historic reports. This make sense as it is more likely that someone would report a crime in the same year that it occurs. Although NYPD allows people to report crimes that occurred in 2020, there will be much fewer of them reported in 2022. If we wanted to use data prior to 2022 we should include the old crime reports for prior years. Also there are some quality issues with historic data as we see very old crimes (year 1500) which indicate some human error or a record-keeping issue.</p>
<p>So focusing on incidents in 2022, we can look at the overall trend during the year.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="results.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_filter, <span class="fu">aes</span>(<span class="at">x=</span>Incident_Month)) <span class="sc">+</span></span>
<span id="cb32-2"><a href="results.html#cb32-2" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">fill=</span>..count..),<span class="at">stat=</span><span class="st">&quot;bin&quot;</span>,<span class="at">binwidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-3"><a href="results.html#cb32-3" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">9</span>), <span class="at">n.breaks=</span><span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb32-4"><a href="results.html#cb32-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">50000</span>), <span class="at">label=</span>comma) <span class="sc">+</span></span>
<span id="cb32-5"><a href="results.html#cb32-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb32-6"><a href="results.html#cb32-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">&quot;2022 Crimes Per Month (Q1-Q3)&quot;</span>,</span>
<span id="cb32-7"><a href="results.html#cb32-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">&quot;Month (as a number)&quot;</span>,</span>
<span id="cb32-8"><a href="results.html#cb32-8" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">&quot;Total Reports&quot;</span>,</span>
<span id="cb32-9"><a href="results.html#cb32-9" aria-hidden="true" tabindex="-1"></a>      )</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="results.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO make graph prettier</span></span></code></pre></div>
<p>We can see there are more crimes reported in the summer months, presumably it is warmer. Let’s facet this:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="results.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_filter, <span class="fu">aes</span>(<span class="at">x=</span>Incident_Month, <span class="at">color=</span></span>
<span id="cb34-2"><a href="results.html#cb34-2" aria-hidden="true" tabindex="-1"></a>                        <span class="fu">fct_infreq</span>(CRIME_CAT)</span>
<span id="cb34-3"><a href="results.html#cb34-3" aria-hidden="true" tabindex="-1"></a>                      )) <span class="sc">+</span></span>
<span id="cb34-4"><a href="results.html#cb34-4" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">fill=</span>..count..),<span class="at">stat=</span><span class="st">&quot;bin&quot;</span>,<span class="at">binwidth=</span><span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb34-5"><a href="results.html#cb34-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">9</span>), <span class="at">n.breaks=</span><span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb34-6"><a href="results.html#cb34-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">scale_y_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">20000</span>), <span class="at">label=</span>comma) <span class="sc">+</span></span>
<span id="cb34-7"><a href="results.html#cb34-7" aria-hidden="true" tabindex="-1"></a>      <span class="co">#facet_grid((CRIME_CAT) ~ .) +</span></span>
<span id="cb34-8"><a href="results.html#cb34-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">labs</span>(</span>
<span id="cb34-9"><a href="results.html#cb34-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">title =</span> <span class="st">&quot;2022 Crimes Per Month (Q1-Q3)&quot;</span>,</span>
<span id="cb34-10"><a href="results.html#cb34-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> <span class="st">&quot;Month (as a number)&quot;</span>,</span>
<span id="cb34-11"><a href="results.html#cb34-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">y =</span> <span class="st">&quot;Total Reports&quot;</span>,</span>
<span id="cb34-12"><a href="results.html#cb34-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">&quot;Crime Category&quot;</span></span>
<span id="cb34-13"><a href="results.html#cb34-13" aria-hidden="true" tabindex="-1"></a>      ) </span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-18-1.png" width="672" />
Maybe, the trend is dominated by theft crimes but it does seem like there is a hump over summer. Uniquely there is a dip for drug crimes.</p>
<p>Let’s now look at some other time related charts</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="results.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co">#ggplot(df_filter, aes(x = Incident_DayOfWeek, fill=fct_infreq(CRIME_CAT))) + </span></span>
<span id="cb35-2"><a href="results.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="co">#  geom_bar(stat=&#39;count&#39;, position=&#39;dodge&#39;)</span></span>
<span id="cb35-3"><a href="results.html#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="results.html#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_filter, <span class="fu">aes</span>(<span class="at">y=</span>CRIME_CAT , <span class="at">fill=</span><span class="fu">fct_rev</span>(Incident_DayOfWeek)) ) <span class="sc">+</span> </span>
<span id="cb35-5"><a href="results.html#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat=</span><span class="st">&#39;count&#39;</span>, <span class="at">position=</span><span class="st">&#39;dodge&#39;</span>) <span class="sc">+</span></span>
<span id="cb35-6"><a href="results.html#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">label=</span>comma) <span class="sc">+</span></span>
<span id="cb35-7"><a href="results.html#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_discrete</span>(<span class="at">breaks=</span><span class="fu">c</span>(<span class="st">&#39;Sun&#39;</span>,<span class="st">&#39;Mon&#39;</span>,<span class="st">&#39;Tue&#39;</span>,<span class="st">&#39;Wed&#39;</span>,<span class="st">&#39;Thu&#39;</span>,<span class="st">&#39;Fri&#39;</span>,<span class="st">&#39;Sat&#39;</span>)) <span class="sc">+</span></span>
<span id="cb35-8"><a href="results.html#cb35-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb35-9"><a href="results.html#cb35-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&quot;2022 Crimes By Day of Week (Q1-Q3)&quot;</span>,</span>
<span id="cb35-10"><a href="results.html#cb35-10" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;Total Reports&quot;</span>,</span>
<span id="cb35-11"><a href="results.html#cb35-11" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb35-12"><a href="results.html#cb35-12" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill =</span> <span class="st">&quot;Day&quot;</span></span>
<span id="cb35-13"><a href="results.html#cb35-13" aria-hidden="true" tabindex="-1"></a>      ) </span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-19-1.png" width="672" />
We see some interesting trends here - Theft is lower on weekends, gambling up on weekends, sex crimes high on Wednesdays surprisingly.</p>
<p>Let’s also look at the time of the day:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="results.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_filter, <span class="fu">aes</span>(<span class="at">x =</span> Incident_HourTime, <span class="at">y=</span><span class="fu">fct_rev</span>(Incident_DayOfWeek) )) <span class="sc">+</span></span>
<span id="cb36-2"><a href="results.html#cb36-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb36-3"><a href="results.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">24</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">24</span>, <span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb36-4"><a href="results.html#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb36-5"><a href="results.html#cb36-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&quot;Hourly Breakdown (Total Q1-Q3 2022)&quot;</span>,</span>
<span id="cb36-6"><a href="results.html#cb36-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;Time of Day (24 Clock)&quot;</span>,</span>
<span id="cb36-7"><a href="results.html#cb36-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;Day of Week&quot;</span></span>
<span id="cb36-8"><a href="results.html#cb36-8" aria-hidden="true" tabindex="-1"></a>      ) <span class="co">#+ theme_classic(18)</span></span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="results.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO change theme to look better?</span></span>
<span id="cb37-2"><a href="results.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co">#not quite sure why hour 24 does not equal hour 0...</span></span></code></pre></div>
<p>The raw data is rounded to the nearest minute but there is likely binning happening with time reported on the nearest hour. There also appears to be a peak at 12:00 which is likely a data quality issue in that reports may default to that time when not specified exactly. Otherwise this graph shows that crimes seems to peak at night around 6pm. But is this related to individual crimes and in/around parks?</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="results.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(df_filter, <span class="fu">aes</span>(<span class="at">x =</span> Incident_HourTime, <span class="at">y=</span>Premise_Derived )) <span class="sc">+</span></span>
<span id="cb38-2"><a href="results.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_density_ridges</span>() <span class="sc">+</span></span>
<span id="cb38-3"><a href="results.html#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">24</span>), <span class="at">breaks =</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">24</span>, <span class="at">by =</span> <span class="dv">1</span>)) <span class="sc">+</span></span>
<span id="cb38-4"><a href="results.html#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>((VIC_Individual_Flag) <span class="sc">~</span> .) <span class="sc">+</span></span>
<span id="cb38-5"><a href="results.html#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb38-6"><a href="results.html#cb38-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">title =</span> <span class="st">&quot;Crimes by Premise and Time&quot;</span>,</span>
<span id="cb38-7"><a href="results.html#cb38-7" aria-hidden="true" tabindex="-1"></a>      <span class="at">subtitle =</span> <span class="st">&quot;Y = Indivuals, N = Entities/Businesses/NY State&quot;</span>,</span>
<span id="cb38-8"><a href="results.html#cb38-8" aria-hidden="true" tabindex="-1"></a>      <span class="at">x =</span> <span class="st">&quot;Time of Day (24 Clock)&quot;</span>,</span>
<span id="cb38-9"><a href="results.html#cb38-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">y =</span> <span class="st">&quot;Premise Category&quot;</span></span>
<span id="cb38-10"><a href="results.html#cb38-10" aria-hidden="true" tabindex="-1"></a>      )</span></code></pre></div>
<p><img src="finalproj_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="results.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co">#TODO Show counts for each of these groups since not representative (ex what is a crime against and entity in a park)? Refer back to moaisic plot</span></span></code></pre></div>
<p>From prior charts, we know that the number of crimes is skewed toward those occurring in “Inside”. This does not represent the magnitude but we can see that for individuals, parks are more ‘dangerous’ at night - more so than other locations. However, it is somewhat comforting to know that this starts to drop off quickly after about 7-8pm.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="results.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co">#--Let&#39;s specifically look at crime around Columbia for Individuals</span></span>
<span id="cb40-2"><a href="results.html#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="results.html#cb40-3" aria-hidden="true" tabindex="-1"></a><span class="co">#ts_filter &lt;- df_filter %&gt;% filter(VIC_Individual_Flag == &#39;Y&#39;) %&gt;% </span></span>
<span id="cb40-4"><a href="results.html#cb40-4" aria-hidden="true" tabindex="-1"></a><span class="co">#  filter(dist_to_CU &lt;= 2000) %&gt;% #only 10k rows</span></span>
<span id="cb40-5"><a href="results.html#cb40-5" aria-hidden="true" tabindex="-1"></a><span class="co">#  filter(Premise_Derived == &quot;PARK&quot;) #only 73 rows, not helpful</span></span>
<span id="cb40-6"><a href="results.html#cb40-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-7"><a href="results.html#cb40-7" aria-hidden="true" tabindex="-1"></a><span class="co">#--Box plot by time of day? </span><span class="al">TBD</span></span></code></pre></div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="location-analysis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/ds4114/NYC_Crime_Group32/edit/main/results.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/ds4114/NYC_Crime_Group32/blob/main/results.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
